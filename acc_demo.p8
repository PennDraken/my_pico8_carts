pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
	p={}
	p.x=62
	p.y=50
	p.v=0
	p.a=0.2
	pa=0.2
	c={}
	c.x=62
	c.y=0
	c.v=0
	c.a=0
	c.maxa=0.1
	target_dist=10
end
-->8
function _draw()
	cls()
	print(fdist)
	spr(1,p.x,p.y)
	if c.a>0 then
		spr(2,c.x,c.y)
	else
		spr(3,c.x,c.y)
	end
	spr(4,c.x,fcy)
end
-->8
function _update()
	--player movement
	if btnp(⬆️) then
		p.v-=p.a
	elseif btnp(⬇️) then
		p.v+=p.a
	end
	p.y+=p.v
	--camera movement
	distance=p.y-c.y
	fpy=p.y+(p.v*p.v)/(2*p.a)
	fcy=c.y+(c.v*c.v)/(2*c.a)
	fdist=fpy-fcy
	if distance<target_dist then
		c.a=-c.maxa
	elseif distance>target_dist then
		c.a=c.maxa
	end
	if fdist<target_dist then
		c.a=-c.maxa
	elseif fdist>target_dist then
		c.a=c.maxa
	end
	
	c.v+=c.a
	c.y+=c.v
end
__gfx__
000000000011110000bbbb0000cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000010000100bbbbbb00cccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070010600001bb6bbbbbcc6ccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700010000001bbbbbbbbcccccccc000ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700010000001bbbbbbbbcccccccc000ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070010000001bbbbbbbbcccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000010000100bbbbbb00cccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000011110000bbbb0000cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
