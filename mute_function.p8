pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
 c=0
 carr={0,0,1,0}
 for i=0,3 do
  if carr[i+1]==0 then
   mute(i)
  end
 end
 music()
end

function _draw()
 cls(6)
 map(0,0,20,20)
 print("⬅️ ➡️ select channel to mute",8,110,1)
 print("❎ mute/unmute",8,120,1,1)
 x1=20
 y=64
 x2=128-x1
 for i=1,4 do
  spr(14-2*carr[i],x1+(i-1)*(x2-x1)/4,y,2,2)
 end
 spr(44,x1+c*(x2-x1)/4,y+16,2,2)
end

function _update()
 if btnp(⬅️) then
  c=(c-1)%4
 elseif btnp(➡️) then
  c=(c+1)%4
 elseif btnp(❎) then
  if carr[c+1]==1 then
   carr[c+1]=0
   mute(c)
  else
   carr[c+1]=1
   unmute(c)
  end
 end
end
-->8
--mutes channel c in the music that is playing
--channel numbers are 0,1,2,3
function mute(c)
 for i=0x3100,0x3140,4 do
  poke(i+c,set_bit(peek(i+c),6,1))
 end
end

function unmute(c)
 for i=0x3100,0x3140,4 do
  poke(i+c,set_bit(peek(i+c),6,0))
 end
end

function set_bit(num,n,x)
 local mask = shl(1,n)--create a mask with only the n-th bit set to 1
 if x==1 then
  num=num|mask--set the n-th bit to 1 using a bitwise or
 else
  num=num&bnot(mask)--set the n-th bit to 0 using a bitwise and with the complement of the mask
 end
 return num
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777777777000777777777777700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077111111111117707711111111111770
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000071111171111111707111117111111170
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000071ddd77d77ddd17071ddd77dddddd170
0007700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007ddd777d117ddd707ddd777ddddddd70
0070070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007d77777d7117dd707d77777d7ddd7d70
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007d77777d17d7dd707d77777d17d71d70
0000000000000000000000000000000001111001111100000111111111000000000000000000000000000000000000007d77777d17d7dd707d77777d11711d70
00000000000000000000000000000000017771117771000001777c7cc1111100000000000000000000000000000000007d77777dd7d7dd707d77777dd717dd70
0000000000000000000000000000000001eee717eee1000001ccccccc1777100000000000000000000000000000000007d77777d71d7dd707d77777d71117d70
0000000000000000000000000000000001eeeeeeeee11111111dcc1111333100000000000000000000000000000000007d11777d1171dd707d11777d11d11d70
0000000000000000000000000000000001eeeeeeeee177717771dc1553333100000000000000000000000000000000007d11177d7711dd707d11177d1ddd1d70
0000000000000000000000000000000001eeeeeeeee144911991dc1553111100000000000000000000000000000000007ddd117d111ddd707ddd117ddddddd70
0000000000000000000000000000000001ee1eee1ee144991991dc1553333100000000000000000000000000000000007dddd11d11dddd707dddd11ddddddd70
0000000000000000000000000000000001eee1e1eee144991991dc15533111000000000000000000000000000000000077dddd1dddddd77077dddd1dddddd770
0000000000000000000000000000000001eee111eee144999991dc15533331000000000000000000000000000000000007777777777777000777777777777700
0000000000000000000000000000000001ee1101eee1144999911115533331000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000001ee1101eee1114499110155533331000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000011111011111011111000111111111000000000000000000000000000000000000000007000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007d700000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007d700000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007ddd70000000000000000000000
000000000000000000000000000000000000001100110111011100000000000000000000000000000000000000000000000007d7d70000000000000000000000
00000000000000000000000000000000000000101010011101010000000000000000000000000000000000000000000000007d707d7000000000000000000000
00000000000000000000000000000000000000110011010101110000000000000000000000000000000000000000000000007700077000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077000007700000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000700000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700000000070000000000000000000
__map__
0004050607000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0014151617000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0024252627000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0034353637000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0032320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0032003232320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000003200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000003232320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100002065018050130500f0500c050090400804006040050400404003040030300303002030010300103001020000100001000000000000000000000000000000000000000000000000000000000000000000
030100003f6703f6503f6403f6203f610000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0201000028050240503964036640336302f6302d6302c620296202861024610216101e6101d610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
670100003f010310202b0302704018050180501805018050180501805018050180501805018050180501805018050180501805018050180401804018040180301803018030180201802018020180101801018010
cf010000230501f0501d0501805018650180501865018050180501765018050180501805017650180501805018050186501805018050186501805018050180501865018050180501765018050180501765018050
350200002401024040240602407024070240602406024060240502405024050240402404024040240402404024040240302403024030240302403024020240202402024020240202402024010240102401024010
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011000201880018900189001890018a001890018900188001880018900189001890018a001880018900189001880018900189001890018a001890018900188001890018900189001880018a00189001880018900
010100003f010310202b0302704018050180501805018050180501805018050180501805018050180501805018050180501805018050180401804018040180301803018030180201802018020180101801018010
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000201885018950189501895018a501895018950188501885018950189501895018a501885018950189501885018950189501895018a501895018950188501895018950189501885018a50189501885018950
0110002018c501cc501fc5021c5023c50180001cc50180001dc001fc0023c001cc0021c501800018000180001fc5018c501ac501cc501fc501800018c5018000180001800018000180001fc501800023c0023c50
01200000095500050009550005000955000500095500b5500c550005000c550000000c550000000c5500000010550000001055000000105500000010550000000e550000000e550000000e550185500e55017550
cf20000024e5228e0029e0030e002be0000000000000000024e5228e5529e5430e552be5500000000000000034e5528e0029e00000000000000000000000000034e5528e5529e5430e5528e55000000000000000
__music__
03 10111213

