pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

function header_font()
  -- 7x7 by zep (twitter: @lexaloffle)
  poke(0x5600,unpack(split"8,8,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,63,63,63,63,63,63,63,0,0,0,63,63,63,0,0,0,0,0,63,51,63,0,0,0,0,0,51,12,51,0,0,0,0,0,51,0,51,0,0,0,0,0,51,51,51,0,0,0,0,48,60,63,60,48,0,0,0,3,15,63,15,3,0,0,62,6,6,6,6,0,0,0,0,0,48,48,48,48,62,0,99,54,28,62,8,62,8,0,0,0,0,24,0,0,0,0,0,0,0,0,0,12,24,0,0,0,0,0,0,12,12,0,0,0,10,10,0,0,0,0,0,4,10,4,0,0,0,0,0,0,0,0,0,0,0,0,12,12,12,12,12,0,12,0,0,54,54,0,0,0,0,0,0,54,127,54,54,127,54,0,8,62,11,62,104,62,8,0,0,51,24,12,6,51,0,0,14,27,27,110,59,59,110,0,12,12,0,0,0,0,0,0,24,12,6,6,6,12,24,0,12,24,48,48,48,24,12,0,0,54,28,127,28,54,0,0,0,12,12,63,12,12,0,0,0,0,0,0,0,12,12,6,0,0,0,62,0,0,0,0,0,0,0,0,0,12,12,0,32,48,24,12,6,3,1,0,62,99,115,107,103,99,62,0,24,28,24,24,24,24,60,0,63,96,96,62,3,3,127,0,63,96,96,60,96,96,63,0,51,51,51,126,48,48,48,0,127,3,3,63,96,96,63,0,62,3,3,63,99,99,62,0,127,96,48,24,12,12,12,0,62,99,99,62,99,99,62,0,62,99,99,126,96,96,62,0,0,0,12,0,0,12,0,0,0,0,12,0,0,12,6,0,48,24,12,6,12,24,48,0,0,0,30,0,30,0,0,0,6,12,24,48,24,12,6,0,30,51,48,24,12,0,12,0,0,30,51,59,59,3,30,0,0,0,62,96,126,99,126,0,3,3,63,99,99,99,63,0,0,0,62,99,3,99,62,0,96,96,126,99,99,99,126,0,0,0,62,99,127,3,62,0,124,6,6,63,6,6,6,0,0,0,126,99,99,126,96,62,3,3,63,99,99,99,99,0,0,24,0,28,24,24,60,0,48,0,56,48,48,48,51,30,3,3,51,27,15,27,51,0,12,12,12,12,12,12,56,0,0,0,99,119,127,107,99,0,0,0,63,99,99,99,99,0,0,0,62,99,99,99,62,0,0,0,63,99,99,63,3,3,0,0,126,99,99,126,96,96,0,0,62,99,3,3,3,0,0,0,62,3,62,96,62,0,12,12,62,12,12,12,56,0,0,0,99,99,99,99,126,0,0,0,99,99,34,54,28,0,0,0,99,99,107,127,54,0,0,0,99,54,28,54,99,0,0,0,99,99,99,126,96,62,0,0,127,112,28,7,127,0,62,6,6,6,6,6,62,0,1,3,6,12,24,48,32,0,62,48,48,48,48,48,62,0,12,30,18,0,0,0,0,0,0,0,0,0,0,0,30,0,12,24,0,0,0,0,0,0,28,54,99,99,127,99,99,0,63,99,99,63,99,99,63,0,62,99,3,3,3,99,62,0,31,51,99,99,99,51,31,0,127,3,3,63,3,3,127,0,127,3,3,63,3,3,3,0,62,3,3,115,99,99,126,0,99,99,99,127,99,99,99,0,63,12,12,12,12,12,63,0,127,24,24,24,24,24,15,0,99,51,27,15,27,51,99,0,3,3,3,3,3,3,127,0,99,119,127,107,99,99,99,0,99,103,111,107,123,115,99,0,62,99,99,99,99,99,62,0,63,99,99,63,3,3,3,0,62,99,99,99,99,51,110,0,63,99,99,63,27,51,99,0,62,99,3,62,96,99,62,0,63,12,12,12,12,12,12,0,99,99,99,99,99,99,62,0,99,99,99,99,54,28,8,0,99,99,99,107,127,119,99,0,99,99,54,28,54,99,99,0,99,99,99,126,96,96,63,0,127,96,48,28,6,3,127,0,56,12,12,7,12,12,56,0,8,8,8,0,8,8,8,0,14,24,24,112,24,24,14,0,0,0,110,59,0,0,0,0,0,0,0,0,0,0,0,0,127,127,127,127,127,127,127,0,85,42,85,42,85,42,85,0,65,99,127,93,93,119,62,0,62,99,99,119,62,65,62,0,17,68,17,68,17,68,17,0,4,12,124,62,31,24,16,0,28,38,95,95,127,62,28,0,0,54,127,127,62,28,8,0,42,28,54,119,54,28,42,0,28,28,62,93,28,20,20,0,8,28,62,127,62,42,58,0,62,103,99,103,62,65,62,0,62,127,93,93,127,99,62,0,24,120,8,8,8,15,7,0,62,99,107,99,62,65,62,0,8,20,42,93,42,20,8,0,0,0,0,85,0,0,0,0,62,115,99,115,62,65,62,0,8,28,127,28,54,34,0,0,127,34,20,8,20,34,127,0,62,119,99,99,62,65,62,0,0,10,4,0,80,32,0,0,17,42,68,0,17,42,68,0,62,107,119,107,62,65,62,0,127,0,127,0,127,0,127,0,85,85,85,85,85,85,85,0"))
  char_width  = 8
  char_height = 8
end

function subheader_font()
  --6x5 by Tom Hall (twitter: @thattomhall) https://www.lexaloffle.com/bbs/?pid=75073#p
  poke(0x5600,unpack(split"8,8,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,24,24,24,0,24,0,0,54,54,18,0,0,0,0,0,54,127,54,127,54,0,0,24,124,30,60,120,62,24,0,6,102,48,24,12,102,96,0,28,54,54,28,110,54,108,0,24,24,8,0,0,0,0,0,24,12,6,6,6,12,24,0,24,48,96,96,96,48,24,0,24,126,60,24,60,126,24,0,0,24,24,126,24,24,0,0,0,0,0,0,0,12,12,6,0,0,0,126,0,0,0,0,0,0,0,0,0,0,12,0,0,96,48,24,12,6,0,0,0,0,60,118,110,102,60,0,0,0,24,28,24,24,60,0,0,0,62,96,60,6,126,0,0,0,62,96,56,96,62,0,0,0,56,60,54,126,48,0,0,0,126,6,62,96,62,0,0,0,60,6,62,102,60,0,0,0,126,96,48,24,12,0,0,0,60,102,60,102,60,0,0,0,60,102,124,96,60,0,0,0,0,12,0,12,0,0,0,0,0,12,0,12,12,6,48,24,12,6,12,24,48,0,0,0,0,126,0,0,0,0,12,24,48,96,48,24,12,0,0,60,102,48,24,0,24,0,0,60,102,118,110,118,60,0,0,0,60,102,126,102,102,0,0,0,62,102,62,102,62,0,0,0,60,102,6,102,60,0,0,0,62,102,102,102,62,0,0,0,126,6,30,6,126,0,0,0,126,6,30,6,6,0,0,0,124,6,118,102,124,0,0,0,102,102,126,102,102,0,0,0,60,24,24,24,60,0,0,0,96,96,96,102,60,0,0,0,102,54,30,54,102,0,0,0,6,6,6,6,126,0,0,0,66,102,126,126,102,0,0,0,102,110,126,118,102,0,0,0,60,102,102,102,60,0,0,0,62,102,62,6,6,0,0,0,60,102,102,54,108,0,0,0,62,102,126,54,102,0,0,0,124,6,60,96,62,0,0,0,126,24,24,24,24,0,0,0,102,102,102,102,60,0,0,0,102,102,102,60,24,0,0,0,102,126,126,102,66,0,0,0,102,60,24,60,102,0,0,0,102,102,60,24,24,0,0,0,126,48,24,12,126,0,62,6,6,6,6,6,62,0,0,6,12,24,48,96,0,0,62,48,48,48,48,48,62,0,24,60,102,0,0,0,0,0,0,0,0,0,0,0,0,126,12,24,48,0,0,0,0,0,0,60,102,102,126,102,102,0,0,62,102,62,102,102,62,0,0,60,102,6,6,102,60,0,0,62,102,102,102,102,62,0,0,126,6,30,6,6,126,0,0,126,6,30,6,6,6,0,0,124,6,118,102,102,124,0,0,102,102,126,102,102,102,0,0,60,24,24,24,24,60,0,0,96,96,96,96,102,60,0,0,102,54,30,54,102,102,0,0,6,6,6,6,6,126,0,0,66,102,126,126,102,102,0,0,102,110,126,118,102,102,0,0,60,102,102,102,102,60,0,0,62,102,102,62,6,6,0,0,60,102,102,102,54,108,0,0,62,102,102,62,54,102,0,0,124,6,60,96,96,62,0,0,126,24,24,24,24,24,0,0,102,102,102,102,102,60,0,0,102,102,102,102,60,24,0,0,102,102,126,126,102,66,0,0,102,60,24,60,102,102,0,0,102,102,60,24,24,24,0,0,126,48,24,12,6,126,0,56,12,12,6,12,12,56,0,24,24,24,24,24,24,24,24,14,24,24,48,24,24,14,0,44,26,0,0,0,0,0,0,0,28,54,28,0,0,0,0,255,255,255,255,255,255,255,255,85,170,85,170,85,170,85,170,0,195,255,189,189,255,126,0,60,126,255,129,195,231,126,60,17,68,17,68,17,68,17,0,4,12,252,124,62,63,48,32,60,110,223,255,255,255,126,60,102,255,255,255,126,60,24,0,24,60,102,231,102,60,24,0,24,24,0,60,90,24,60,102,60,126,255,126,82,82,94,0,60,110,231,227,227,231,110,60,0,255,153,153,255,129,255,0,56,120,216,24,30,31,14,0,0,126,195,219,219,195,126,0,8,28,62,127,62,28,8,0,0,0,0,0,85,0,0,0,60,118,231,199,199,231,118,60,0,8,28,127,62,28,54,0,127,34,20,8,8,20,42,127,60,126,231,195,129,255,126,60,0,5,82,32,0,0,0,0,0,17,42,68,0,0,0,0,0,126,219,231,231,219,126,0,255,0,255,0,255,0,255,0,85,85,85,85,85,85,85,85,255,129,129,129,129,129,129,255,255,195,165,153,153,165,195,255,0,126,62,30,62,118,34,0,8,28,62,127,127,62,8,62,8,28,28,107,127,107,8,28,28,34,73,93,73,34,28,0"))
  char_width = 7
  char_height = 8
end

function regular_bold()
  --my own font 5x6
  poke(0x5600,unpack(split"5,8,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,0,0,0,0,7,7,7,0,0,0,0,0,7,5,7,0,0,0,0,0,5,2,5,0,0,0,0,0,5,0,5,0,0,0,0,0,5,5,5,0,0,0,0,4,6,7,6,4,0,0,0,1,3,7,3,1,0,0,0,7,1,1,1,0,0,0,0,0,4,4,4,7,0,0,0,5,7,2,7,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,3,3,0,0,0,5,5,0,0,0,0,0,0,2,5,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,2,0,0,0,5,5,0,0,0,0,0,0,5,7,5,7,5,0,0,0,7,3,6,7,2,0,0,0,5,4,2,1,5,0,0,0,3,3,6,5,7,0,0,0,2,1,0,0,0,0,0,0,2,1,1,1,2,0,0,0,2,4,4,4,2,0,0,0,5,2,7,2,5,0,0,0,0,2,7,2,0,0,0,0,0,0,0,2,1,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,2,0,0,0,4,2,2,2,1,0,0,0,7,5,5,5,7,0,0,0,3,2,2,2,7,0,0,0,7,4,7,1,7,0,0,0,7,4,6,4,7,0,0,0,5,5,7,4,4,0,0,0,7,1,7,4,7,0,0,0,1,1,7,5,7,0,0,0,7,4,4,4,4,0,0,0,7,5,7,5,7,0,0,0,7,5,7,4,4,0,0,0,0,2,0,2,0,0,0,0,0,2,0,2,1,0,0,0,4,2,1,2,4,0,0,0,0,7,0,7,0,0,0,0,1,2,4,2,1,0,0,0,7,4,6,0,2,0,0,0,2,5,5,1,6,0,0,0,0,14,11,15,11,0,0,0,0,7,7,11,15,0,0,0,0,14,3,3,14,0,0,0,0,7,11,11,7,0,0,0,0,15,7,3,15,0,0,0,0,15,7,3,3,0,0,0,0,14,3,11,15,0,0,0,0,11,11,15,11,0,0,0,0,15,6,6,15,0,0,0,0,15,6,6,7,0,0,0,0,11,7,11,11,0,0,0,0,3,3,3,14,0,0,0,0,15,15,11,11,0,0,0,0,5,11,11,11,0,0,0,0,14,11,11,7,0,0,0,0,14,11,15,3,0,0,0,0,6,11,7,14,0,0,0,0,7,11,7,11,0,0,0,0,14,3,12,7,0,0,0,0,15,6,6,6,0,0,0,0,11,11,11,14,0,0,0,0,11,11,15,6,0,0,0,0,11,11,15,15,0,0,0,0,11,6,6,11,0,0,0,0,11,15,12,7,0,0,0,0,15,12,3,15,0,0,0,3,1,1,1,3,0,0,0,1,2,2,2,4,0,0,0,6,4,4,4,6,0,0,0,2,5,0,0,0,0,0,0,0,0,0,0,7,0,0,0,2,4,0,0,0,0,0,0,15,11,15,11,11,0,0,0,15,11,7,11,15,0,0,0,14,3,3,3,14,0,0,0,7,11,11,11,15,0,0,0,15,3,7,3,15,0,0,0,15,3,7,3,3,0,0,0,14,3,3,11,15,0,0,0,11,11,15,11,11,0,0,0,15,6,6,6,15,0,0,0,15,6,6,6,7,0,0,0,11,11,7,11,11,0,0,0,3,3,3,3,15,0,0,0,15,15,11,11,11,0,0,0,7,11,11,11,11,0,0,0,14,11,11,11,7,0,0,0,15,11,15,3,3,0,0,0,6,11,11,7,14,0,0,0,15,11,7,11,11,0,0,0,14,3,15,12,7,0,0,0,15,6,6,6,6,0,0,0,11,11,11,11,14,0,0,0,11,11,11,15,6,0,0,0,11,11,11,15,15,0,0,0,11,11,6,11,11,0,0,0,11,11,15,12,15,0,0,0,15,12,6,3,15,0,0,0,6,2,3,2,6,0,0,0,2,2,2,2,2,0,0,0,3,2,6,2,3,0,0,0,0,4,7,1,0,0,0,0,0,2,5,2,0,0,0,0,127,127,127,127,127,0,0,0,85,42,85,42,85,0,0,0,65,127,93,93,62,0,0,0,62,99,99,119,62,0,0,0,17,68,17,68,17,0,0,0,4,60,28,30,16,0,0,0,28,46,62,62,28,0,0,0,54,62,62,28,8,0,0,0,28,54,119,54,28,0,0,0,28,28,62,28,20,0,0,0,28,62,127,42,58,0,0,0,62,103,99,103,62,0,0,0,127,93,127,65,127,0,0,0,28,4,4,7,7,0,0,0,62,99,107,99,62,0,0,0,8,28,62,28,8,0,0,0,0,0,85,0,0,0,0,0,62,115,99,115,62,0,0,0,8,28,127,62,34,0,0,0,62,28,8,28,62,0,0,0,62,119,99,99,62,0,0,0,0,5,82,32,0,0,0,0,0,17,42,68,0,0,0,0,62,107,119,107,62,0,0,0,127,0,127,0,127,0,0,0,85,85,85,85,85,0,0,0"))
end

function regular_italic()
  --my own font 4x6
  poke(0x5600,unpack(split"5,8,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,0,0,0,0,7,7,7,0,0,0,0,0,7,5,7,0,0,0,0,0,5,2,5,0,0,0,0,0,5,0,5,0,0,0,0,0,5,5,5,0,0,0,0,4,6,7,6,4,0,0,0,1,3,7,3,1,0,0,0,7,1,1,1,0,0,0,0,0,4,4,4,7,0,0,0,5,7,2,7,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,3,3,0,0,0,5,5,0,0,0,0,0,0,2,5,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,2,0,0,0,5,5,0,0,0,0,0,0,5,7,5,7,5,0,0,0,7,3,6,7,2,0,0,0,5,4,2,1,5,0,0,0,3,3,6,5,7,0,0,0,2,1,0,0,0,0,0,0,2,1,1,1,2,0,0,0,2,4,4,4,2,0,0,0,5,2,7,2,5,0,0,0,0,2,7,2,0,0,0,0,0,0,0,2,1,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,2,0,0,0,4,2,2,2,1,0,0,0,14,10,10,5,7,0,0,0,4,6,4,2,7,0,0,0,14,8,14,1,7,0,0,0,14,8,12,4,7,0,0,0,10,9,7,4,4,0,0,0,12,2,14,8,7,0,0,0,12,2,14,9,7,0,0,0,14,8,8,4,4,0,0,0,28,10,14,5,7,0,0,0,28,10,14,4,4,0,0,0,0,2,0,2,0,0,0,0,0,2,0,2,1,0,0,0,4,2,1,2,4,0,0,0,0,7,0,7,0,0,0,0,1,2,4,2,1,0,0,0,28,16,12,0,2,0,0,0,2,5,5,1,6,0,0,0,0,12,10,7,5,0,0,0,0,6,6,5,7,0,0,0,0,12,2,1,6,0,0,0,0,6,10,5,3,0,0,0,0,14,6,1,6,0,0,0,0,14,6,1,1,0,0,0,0,12,2,5,7,0,0,0,0,10,10,7,5,0,0,0,0,14,4,2,7,0,0,0,0,14,4,2,3,0,0,0,0,10,6,5,5,0,0,0,0,2,2,1,6,0,0,0,0,14,14,5,5,0,0,0,0,6,10,5,5,0,0,0,0,12,10,5,3,0,0,0,0,12,10,7,1,0,0,0,0,4,10,3,6,0,0,0,0,6,10,3,5,0,0,0,0,12,2,4,3,0,0,0,0,14,4,2,2,0,0,0,0,10,10,5,6,0,0,0,0,10,10,7,2,0,0,0,0,10,10,7,7,0,0,0,0,10,4,2,5,0,0,0,0,10,14,4,3,0,0,0,0,14,8,1,7,0,0,0,3,1,1,1,3,0,0,0,1,2,2,2,4,0,0,0,6,4,4,4,6,0,0,0,2,5,0,0,0,0,0,0,0,0,0,0,7,0,0,0,2,4,0,0,0,0,0,0,28,10,14,5,5,0,0,0,28,10,6,5,7,0,0,0,12,2,2,1,6,0,0,0,12,10,10,5,7,0,0,0,28,2,6,1,7,0,0,0,28,2,6,1,1,0,0,0,12,2,2,5,7,0,0,0,20,10,14,5,5,0,0,0,14,4,6,2,7,0,0,0,6,4,4,2,3,0,0,0,20,10,6,5,5,0,0,0,4,2,2,1,7,0,0,0,28,14,10,5,5,0,0,0,12,10,10,5,5,0,0,0,12,10,10,5,3,0,0,0,28,10,14,1,1,0,0,0,12,10,10,11,22,0,0,0,28,10,6,5,5,0,0,0,24,2,14,4,3,0,0,0,28,4,4,2,2,0,0,0,20,18,10,9,6,0,0,0,20,10,10,7,2,0,0,0,20,10,10,7,7,0,0,0,10,10,6,5,5,0,0,0,20,10,14,4,7,0,0,0,28,8,4,1,7,0,0,0,6,2,3,2,6,0,0,0,2,2,2,2,2,0,0,0,3,2,6,2,3,0,0,0,0,4,7,1,0,0,0,0,0,2,5,2,0,0,0,0,127,127,127,127,127,0,0,0,85,42,85,42,85,0,0,0,65,127,93,93,62,0,0,0,62,99,99,119,62,0,0,0,17,68,17,68,17,0,0,0,4,60,28,30,16,0,0,0,28,46,62,62,28,0,0,0,54,62,62,28,8,0,0,0,28,54,119,54,28,0,0,0,28,28,62,28,20,0,0,0,28,62,127,42,58,0,0,0,62,103,99,103,62,0,0,0,127,93,127,65,127,0,0,0,28,4,4,7,7,0,0,0,62,99,107,99,62,0,0,0,8,28,62,28,8,0,0,0,0,0,85,0,0,0,0,0,62,115,99,115,62,0,0,0,8,28,127,62,34,0,0,0,62,28,8,28,62,0,0,0,62,119,99,99,62,0,0,0,0,5,82,32,0,0,0,0,0,17,42,68,0,0,0,0,62,107,119,107,62,0,0,0,127,0,127,0,127,0,0,0,85,85,85,85,85,0,0,0"))
end

function toggle_theme()
  theme_i += 1
  if theme_i > #themes then
    theme_i = 1
  end
end

function new_theme(bgc, h1c, h2c, h3c, pc, list1c, list2c, linec, cursorc)
  return {bgc=bgc, h1c=h1c, h2c=h2c, h3c=h3c, pc=pc, list1c=list1c, list2c=list2c, linec=linec, cursorc=cursorc}
end

function _init()
  cls()
  extcmd("set_title","Markdown Tiny Editor")
  --themes
  theme_i = 1--theme index
  --bgc,h1c,h2c,h3c,pc,list1c,list2c,linec,cursorc
  themes = {new_theme( 0,10,14, 7, 7,12, 1, 1, 1),--regular dark
            new_theme( 7, 13,14, 1,1, 6, 6,14, 12),--light
            new_theme( 6, 0, 0, 0, 0, 0, 0, 0, 7),--monocrome grey
            new_theme( 1,12,10,14, 7,14,14,10, 8),
            new_theme( 2, 7, 6,14,14,14,14,14, 8),--girly
            new_theme( 1, 7, 6, 7, 7, 7, 7, 6, 5)
          }
  menuitem(1, "Change theme", toggle_theme)
  poke(0x5f2d, 1)  -- enable devkit keyboard input
  text_rows = {
    "",
    -- "",
    -- "# Markdown",
    -- "## Introduction",
    -- "markdown is a lightweight **markup language** for creating formatted text using a plain-text editor.",
    -- "",
    -- "## Facts",
    -- "- Created in 2004",
    -- "- File format is .md",
    -- "- This is a list",
    -- "---",
    -- "## Tutorial",
    -- "1. ⬇️⬅️⬆️➡️ Move cursor",
    -- "2. Write with keyboard",
    -- "3. Enjoy!",
    "[0,8,8]"
  }
  user_string = stat(4)
  if user_string!="" then
    text_rows = string_to_text_rows(user_string)
  end
  ci    = 3 --cursor index in row
  rowi  = 1 --selected row
  t = 0
end

function _update60()
  -- read user input
  if user_string != stat(4) then
    --new user input
    user_string = stat(4)
    print(user_string)
    text_rows = string_to_text_rows(user_string)
  end
  -- disable pause on enter
  --poke(24365,1)
  poke(24368,1)

  -- cursor control
  local curr_row   = text_rows[rowi]
  local row_length = #curr_row

  if btnp(0) then
    ci -= 1
    if ci<0 then
      rowi = max(1, rowi - 1)
      ci = #text_rows[rowi]
    end
  elseif btnp(1) then
    ci = min(ci + 1, row_length)
  end
  if btnp(2) then
    rowi = max(1, rowi - 1)
    ci = min(ci, row_length)
    ci = max(0, ci)
  elseif btnp(3) then
    rowi += 1
    if rowi > #text_rows then
      add(text_rows, "")
    end
    rowi = min(rowi, #text_rows)
    ci = min(ci, row_length)
    ci = max(0, ci)
  end

  -- get key input
  local key = stat(31)


  if key == chr(8) then
    -- backspace
    sfx(4)
    if ci != 0 then
      text_rows[rowi] = sub(curr_row, 1, ci-1)..sub(curr_row, ci+1, #curr_row)
      ci -= 1
    elseif rowi != 1 then
      text_rows[rowi-1] = text_rows[rowi-1]..curr_row
      del(text_rows, curr_row)
      ci = #text_rows[rowi-1] - #curr_row
      rowi-=1
    end
  elseif key >= " " and key <= "~" then
    -- add character
    sfx(rnd({0,1,2}))
    text_rows[rowi] = sub(curr_row, 1, ci)..key..sub(curr_row, ci+1, #curr_row)
    ci += 1
  elseif key >= "○" and key <= "▥" then
    -- add character that is capital case (note this is automatically emoji instead of capital cases)
    sfx(rnd({0,1,2}))
    local code = ord(key) -- TODO need to get all keys (not just last key) active to get capital case to work
    key = chr(code-63)
    text_rows[rowi] = sub(curr_row, 1, ci)..key..sub(curr_row, ci+1, #curr_row)
    ci += 1
  elseif key == chr(13) then
    -- new line
    sfx(3)
    text_rows[rowi] = sub(curr_row, 1, ci)
    --add a new line
    add(text_rows, sub(curr_row, ci+1, #curr_row), rowi + 1)
    ci = 0
    rowi += 1
  elseif key =="\t" then
    --tab key
    extcmd("pause")
  end
end

function _draw()
  theme = themes[theme_i]
  cls(theme.bgc)
  poke(0x5f27, 4)--y padding
  -- draw live text
  local cy = 0 -- camera offset
  for i, curr_row in ipairs(text_rows) do
    local first_char = curr_row[1]
    local styling = ""
    local c = theme.pc --color
    char_width = 4
    char_height = 6
    lpadding = 1
    first_word, word_i = get_first_word(curr_row)
    if first_word == "#" then
      styling = "\14"
      header_font()
      c = theme.h1c
    elseif first_word == "##" then
      styling = "\14"
      subheader_font()
      c = theme.h2c
    elseif first_word == '-' then
      --bullet point list
      c = theme.list1c
      char_width = 5
      char_height = 7
      if i != rowi then
        curr_row = " ○ "..sub(curr_row, 3, #curr_row)
      end
    elseif tonum(first_word)!=nil and tonum(first_word) >= 0 and tonum(first_word) <= 999 then
      --numeric list
      c = theme.list2c
      char_width = 5
      char_height = 7
      if i != rowi then
        curr_row = " "..first_word..") "..sub(curr_row, 3, #curr_row)
      end
    elseif first_word == '---' then
      c = theme.linec
      if i != rowi then
        char_height = 6
        char_width = 3
        local num_chars = flr((128 - lpadding)/char_width - 1)
        curr_row = "-"
        for i=0,num_chars do
          curr_row = curr_row.."-"
        end
      end
    elseif first_word[1]=="[" and first_word[-1]=="]" then
      --image
      if rowi != i then
        local split_word = split_string_with_character(sub(first_word,2,-2), ",")
        if #split_word==3 then
          --draw image
          local x = 0
          local y = peek(0x5f27)
          spr(split_word[1], (128 - split_word[2]*8)/2, y, split_word[2], split_word[3])
          poke(0x5f26, lpadding)
          poke(0x5f27, y + split_word[3]*8) --adjust because we still print an empty line
          curr_row = ""
        end
      end
    end
    if styling != "" and rowi != i then
      -- remove md symbols when not on that specific line
      curr_row = sub(curr_row, word_i)
    end
    if t % 30 <= 15 and i == rowi then
      --show cursor
      --curr_row = sub(curr_row, 1, ci).."▮"..sub(curr_row, ci+2, #curr_row)
      --this part essentially prints a duplicate string identical, except to create cursor at desired position
      local cx=0
      local cy=peek(0x5f27)
      special_print(styling, char_width, char_height, reverse_case(sub(curr_row, 1, ci).."▮"..sub(curr_row, ci+2, #curr_row)), theme.cursorc, lpadding, rowi==i)
      poke(0x5f27, cy)
    end
    special_print(styling, char_width, char_height, reverse_case(curr_row), c, lpadding, rowi==i)
    if i == rowi then
      cy = peek(0x5f27)--cursor position
    end
  end
  if cy > 128 then
    --setting camera here is a bit weird as it is for the next frame
    camera(0, cy-128)
  else
    camera(0, 0)
  end

  t += 1
end

function glyph(char_width, char_height, font_function, c)
  --glyph is a section of words
  local glyph = {
    char_width=char_width,
    char_height=char_height,
    font_function=font_function,
    c=c
  }
  --TODO add rendering here draw(x,y)
  return glyph
end

function new_row(cx, cy, rowi, charindex)
  --this is a row that stores what is printed
  --on each row, including the 1st words column index
  --this is useful to avoid duplicate rendering
  --and cursor interaction logic
  --ie we store word positions here!
  local row={
    cx=cx,
    cy=cy,
    rowi=rowi,
    charindex=charindex
  }
  
  return row
end

function special_print(styling, char_width, char_height, str, c, lpadding, rowselected)
  --special print function that splits words to a new line
  --there are probably more efficient ways to do this
  local padding_x = lpadding
  local screen_width = 128

  local x = padding_x
  if sub(str, 1, 1)==" " then
    x += char_width
  end
  local y = peek(0x5f27)

  local words = {}
  local i = 1
  local len = #str

  while i <= len do
    -- skip spaces
    while i <= len and sub(str, i, i) == " " do
      i = i + 1
    end

    if i > len then break end

    -- find word end
    local start_i = i
    while i <= len and sub(str, i, i) ~= " " do
      i = i + 1
    end

    local word = sub(str, start_i, i - 1)
    add(words, word)
  end

  local isbold    = false
  local iscursive = false
  local selected_word = nil--stores the index of the word were cursor is
  for w = 1, #words do
    local word = words[w]
    local boldchar_width = char_width + 1
    local curisivechar_width = char_width
    --BOLD TEXT
    if sub(word,1,2)=="**" then
      --bold text start
      isbold = true
      regular_bold()
      if not rowselected then
        word = sub(word,3,-1)--truncate starting bold signs
      end
    end
    --CURSIVE TEXT
    if word[1]=="*" and word[2]!="*" and not isbold then
      --cursive text start
      iscursive = true
      regular_italic()
      if not rowselected then
        word = sub(word,2,-1)--truncate starting bold signs
      end
    end
    if isbold then
      if sub(word,-2,-1)=="**" then
        --bold text ends
        isbold = false
        if not rowselected then
          word = sub(word,1,-3)--truncate ending bold signs
        end
      end
      local word_width = #word * boldchar_width

      if x + word_width > screen_width then
        x = padding_x
        y = y + char_height
      end

      for j = 1, #word do
        local char = sub(word, j, j)
        print("\14"..styling.. char, x, y, c)--TODO use parameter instead
        x = x + boldchar_width
      end

      if w < #words then
        if isbold then
          print("\14"..styling .. " ", x, y, c)
          x = x + boldchar_width
        else
          print(styling .. " ", x, y, c)
          x = x + char_width
        end
      end

      poke(0x5f26, x)
      poke(0x5f27, y)
    --CURSIVE TEXT
    elseif iscursive then
      if sub(word,-1,-1)=="*" then
        --cursive text ends
        iscursive = false
        if not rowselected then
          word = sub(word,1,-2)--truncate ending bold signs
        end
      end
      local word_width = #word * curisivechar_width

      if x + word_width > screen_width then
        x = padding_x
        y = y + char_height
      end

      for j = 1, #word do
        local char = sub(word, j, j)
        print("\14"..styling.. char, x, y, c)--TODO use parameter instead
        x = x + curisivechar_width
      end

      if w < #words then
        if iscursive then
          print("\14"..styling .. " ", x, y, c)
          x = x + curisivechar_width
        else
          print(styling .. " ", x, y, c)
          x = x + char_width
        end
      end

      poke(0x5f26, x)
      poke(0x5f27, y)
    else
      --regular text
      local word_width = #word * char_width

      if x + word_width > screen_width then
        x = padding_x
        y = y + char_height
      end

      for j = 1, #word do
        local char = sub(word, j, j)
        print(styling .. char, x, y, c)
        x = x + char_width
      end

      if w < #words then
        print(styling .. " ", x, y, c)
        x = x + char_width
      end

      poke(0x5f26, x)
      poke(0x5f27, y)
    end
  end

  poke(0x5f26, 0)
  poke(0x5f27, y + char_height)
end

function get_first_word(string)
  --gets first word in string (note no spaces allowed)
  local nstring = ""
  local word_end_i
  for i=1,#string do
    if sub(string, i, i) !=' ' then
      nstring = nstring..sub(string, i, i)
    else
      word_end_i = i + 1
      break
    end
  end
  return nstring, word_end_i
end

function reverse_case(str)
  -- used to make text more pretty and readable
  local result = ""
  for i=1, #str do
    local c = sub(str, i, i)
    local code = ord(c)

    if code >= 65 and code <= 90 then
      -- uppercase A-Z -> lowercase a-z
      result = result .. chr(code + 32)
    elseif code >= 97 and code <= 122 then
      -- lowercase a-z -> uppercase A-Z
      result = result .. chr(code - 32)
    else
      -- non-alphabetic characters unchanged
      result = result .. c
    end
  end
  return result
end

function string_to_text_rows(str)
  local rows = {}
  for line in all(split(str, "\n", false)) do
    add(rows, line)
  end
  return rows
end

function split_string_with_character(str, char)
  local rows = {}
  for line in all(split(str, char, true)) do
    add(rows, line)
  end
  return rows
end

__gfx__
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1cccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccdddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccdddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccccdddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccccccdddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccccccdddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccccccccddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccccccccdddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccccccccdddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccccccccccddcdddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccccccccccddcdddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccc99999999ccccccccccccccccccccccccccccccccddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccc999999999999ccccccccccccccccccccccccccccccddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccc99999999999999ccccccccccccccccccccccccccccccdddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccc9999999999999999cccccc77ccccccccccccccccccccc77dddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccc999999999999999999ccccc77cccccccccccccccccccc777777d11000000000000000000000000000000000000000000000000000000000000001
1cccccccccc999999999999999999ccccccccccccccccccccccccc77777777711000000000000000000000000000000000000000000000000000000000000001
1ccccccccc99999999999999999999cccccccccc77cc777777777777777777711000000000000000000000000000000000000000000000000000000000000001
1ccccccccc99999999999999999999cccccccccc7777777777777777777777711000000000000000000000000000000000000000000000000000000000000001
1ccccccccc99999999999999999999cccccccc777777777777777777777777711000000000000000000000000000000000000000000000000000000000000001
1ccccccccc99779999999999999999cccccccc777777777777777777777777711000000000000000000000000000000000000000000000000000000000000001
1cccc77ccc99779999999999999999cccccccc7777777777ccc77777777777711000000000000000000000000000000000000000000000000000000000000001
1777c77ccc99999999999999999999cccccc77ccccccccccccccccccccc777711000000000000000000000000000000000000000000000000000000000000001
1777c7777777777779999999999999cccccc77ccccccccccccccccddccddddd11000000000000000000000000000000000000000000000000000000000000001
177777777777777779999999999999ccccccccccccccccccccc77cddccddddd11000000000000000000000000000000000000000000000000000000000000001
17777777777777777777779999999cccccccccccccccccccccc77cddccddddd11000000000000000000000000000000000000000000000000000000000000001
17777777777777777777779999999cccccccccccccccccccccccccddccddddd11000000000000000000000000000000000000000000000000000000000000001
1777777777779999997999999999ccccccccccccccccccccccccccddccddddd11000000000000000000000000000000000000000000000000000000000000001
17777777c777c99999999999999cccccccccccccccccccccccccccdddcddddd11000000000000000000000000000000000000000000000000000000000000001
1c777777cccc77999999999999cccccccccccccccccccccccccccccdddddddd11000000000000000000000000000000000000000000000000000000000000001
1c7777cccccc77cc99999999cccccccccccccccccccccccccccccccdddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccccccccccccdddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccccccccccccdddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccc77ccccccccccccccdddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccc77ccccccccc77cccdddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccc77777ccccc77ccddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccc7777777777ccccccddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccc7777777777777ccccddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccc7777777cccccc777777777777777c77777dddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccc777c7777777ccccc77777777777777777777777ddd7711000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccc7777777777777ccc77777777777777777777777777dd7711000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccc777777777cc77777777777777777777777777777777ddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccc77777ccc77777777777777777777777777777777ddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccc77777777777777777777777777777777ddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccc77cccccccc7777777777777777777777777777777ddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccc77cccccc77777777777777777cccdd777777777dd77d11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccc77cccc777777777ccccdddcccdddddddd77d11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccccdddccdddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccccddccddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccddddccddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccdddccdddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccc77ccccccccccccccccccccccccccccccccddddccddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccc77ccccccccccccccccccccccccccccccccdddccdddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccddcccdddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccccdddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccccddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccccdddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccccddddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccccdddddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1cccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
1ccccccccccccccccccccccccccccccccccccccdddddddddddddddddddddddd11000000000000000000000000000000000000000000000000000000000000001
111111111111111111111111111111111111111ddd11111111111111111111111111111111111111111111111111111111111111111111111111111111111111
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000aa000aa00000000000000000aa00000000000aa000000000000000000000000000000000000000000000000000000000000000000000000
00aa0aa0000000000aaa0aaa00000000000000000aa00000000000aa000000000000000000000000000000000000000000000000000000000000000000000000
0aaaaaaa000000000aaaaaaa00aaaaa000aaaaa00aa00aa000aaaaaa00aaaaa00aa000aa0aaaaaa0000000000000000000000000000000000000000000000000
00aa0aa0000000000aa0a0aa000000aa0aa000aa0aa0aa000aa000aa0aa000aa0aa000aa0aa000aa000000000000000000000000000000000000000000000000
00aa0aa0000000000aa000aa00aaaaaa0aa000000aaaa0000aa000aa0aa000aa0aa0a0aa0aa000aa000000000000000000000000000000000000000000000000
0aaaaaaa000000000aa000aa0aa000aa0aa000000aa0aa000aa000aa0aa000aa0aaaaaaa0aa000aa000000000000000000000000000000000000000000000000
00aa0aa0000000000aa000aa00aaaaaa0aa000000aa00aa000aaaaaa00aaaaa000aa0aa00aa000aa000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000eeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000ee000ee00ee0eeeeee0eeeee000eeee00eeeee00ee00ee00eeee00eeeeee00eeee000eeee00ee00ee0000000000000000000000000000000000000000000
0000ee000eee0ee000ee000ee00ee0ee00ee0ee00ee0ee00ee0ee00ee000ee00000ee000ee00ee0eee0ee0000000000000000000000000000000000000000000
0000ee000eeeeee000ee000eeeeee0ee00ee0ee00ee0ee00ee0ee0000000ee00000ee000ee00ee0eeeeee0000000000000000000000000000000000000000000
0000ee000ee0eee000ee000ee0ee00ee00ee0ee00ee0ee00ee0ee00ee000ee00000ee000ee00ee0ee0eee0000000000000000000000000000000000000000000
000eeee00ee00ee000ee000ee00ee00eeee00eeeee000eeee000eeee0000ee0000eeee000eeee00ee00ee0000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07770077077007070770007707070770000007770077000000770000070007770077070707770707077707770077070707770000000000000000000000000000
07770707070707700707070707070707000000700700000007070000070000700700070700700707077000700700070700700000000000000000000000000000
07070777077007070707070707770707000000700007000007770000070000700707077700700777070000700707077700700000000000000000000000000000
07070707070707070770077007770707000007770770000007070000007707770777070700700777007707770777070700700000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07770077077007070707007700000700007707700077070700770077077700000777007707700000007707700777007707770777077000770000000000000000
07770707070707700707070700000700070707070700070707070700077000000770070707070000070007070770070700700070070707000000000000000000
07070777077007070707077700000700077707070707070707770707070000000700070707700000070007700700077700700070070707070000000000000000
07070707070707070077070000000077070707070777007707070777007700000700077007070000007707070077070700700777070707770000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07770077077007770077077707770777077000000777077707070777000007070077077707700077000000770000000000000000000000000000000000000000
07700707070707770707007000700770070700000070077000700070000007070700007007070700000007070000000000000000000000000000000000000000
07000707077007070777007000700700070700000070070000700070000007070007007007070707000007770000000000000000000000000000000000000000
07000770070707070707007000700077077000000070007707070070000000770770077707070777000007070000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00770700007707770770000007770777070707770000077707700777077700770770000000000000000000000000000000000000000000000000000000000000
07070700070700700707077700700770007000700000077007070070007007070707000000000000000000000000000000000000000000000000000000000000
07770700077700700707000000700700007000700000070007070070007007070770000000000000000000000000000000000000000000000000000000000000
07000077070707770707000000700077070700700000007707700777007007700707007000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00eeeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ee000000eeee000eeee00eeeeee00eeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00eeee000ee00ee0ee00ee000ee000ee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ee00000eeeeee0ee0000000ee0000eeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ee00000ee00ee0ee00ee000ee0000000ee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ee00000ee00ee00eeee0000ee000eeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000cc0000000000000000000000000000000000000000000000000000ccc00ccc00ccc00c0c000000000000000000000000000000000000000
0000000c00000000c0000cc000ccc000cc00ccc00ccc00cc00000000ccc00cc0000000000c00c0c00c0c00c0c000000000000000000000000000000000000000
000000c0c0000000c0000c0c00cc000c0c000c000cc000c0c00000000c000c0c0000000ccc00c0c00c0c00ccc000000000000000000000000000000000000000
0000000c00000000c0000cc000c0000ccc000c000c0000c0c00000000c000c0c0000000c0000c0c00c0c0000c000000000000000000000000000000000000000
00000000000000000cc00c0c000cc00c0c000c0000cc00cc00000000ccc00c0c0000000ccc00ccc00ccc0000c000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000c00000000c0000ccc00c0000ccc0000000ccc000cc00cc000ccc000cc00ccc0000000ccc000cc000000000000ccc00cc0000000000000000000000000
000000c0c0000000cc0000c000c0000cc00000000cc000c0c00c0c00ccc00c0c000c000000000c000c00000000000000ccc00c0c000000000000000000000000
0000000c00000000c00000c000c0000c000000000c0000c0c00cc000c0c00ccc000c000000000c00000c000000000000c0c00c0c000000000000000000000000
0000000000000000c0000ccc000cc000cc0000000c0000cc000c0c00c0c00c0c000c00000000ccc00cc000000000c000c0c00cc0000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000c000000000c000c0c00ccc000cc0000000ccc000cc00000000cc0000000c0000ccc000cc00ccc00000000000000000000000000000000000000000000
000000c0c00000000c000c0c000c000c0000000000c000c000000000c0c0000000c00000c000c00000c000000000000000000000000000000000000000000000
0000000c000000000c000ccc000c00000c00000000c00000c0000000ccc0000000c00000c00000c000c000000000000000000000000000000000000000000000
00000000000000000c000c0c00ccc00cc00000000ccc00cc00000000c0c00000000cc00ccc00cc0000c000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00eeeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000ee000ee00ee0eeeeee00eeee00eeeee000eeee000eeee00ee000000000000000000000000000000000000000000000000000000000000000000000000000
0000ee000ee00ee000ee000ee00ee0ee00ee000ee000ee00ee0ee000000000000000000000000000000000000000000000000000000000000000000000000000
0000ee000ee00ee000ee000ee00ee0eeeeee000ee000eeeeee0ee000000000000000000000000000000000000000000000000000000000000000000000000000
0000ee000ee00ee000ee000ee00ee0ee0ee0000ee000ee00ee0ee000000000000000000000000000000000000000000000000000000000000000000000000000
0000ee0000eeee0000ee0000eeee00ee00ee00eeee00ee00ee0eeeeee00000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000cc0000c000000000cccccccccccccccccccc0000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000c00000c0000000cc000ccc00ccc0ccc00ccc000ccc000cc00c0c00ccc00000000cc00c0c00cc0000cc000cc00cc000000000000000000000000000000
0000000c00000c0000000cc000cc000cc000cc000cc000c0c00c0c00c0c00cc00000000c0000c0c00c0c00c0000c0c00c0c00000000000000000000000000000
0000000c00000c0000000ccc0cccc00cc000cc00ccc000c0c00c0c00ccc00c000000000c0000c0c00cc00000c00c0c00cc000000000000000000000000000000
000000ccc000c000000000cccccccccccccccccccc0000c0c00cc0000c0000cc00000000cc000cc00c0c00cc000cc000c0c00000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000ccc000c00000000c0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000c0000c0000000c0c00cc000ccc00ccc00ccc0000000c0c00ccc00ccc00c0c0000000c0c00ccc00c0c00cc0000cc000cc00cc000cc000000000000000
000000ccc0000c0000000c0c00c0c000c0000c000cc00000000c0c000c0000c000c0c0000000cc000cc000ccc00cc000c0c00c0c00c0c00c0c00000000000000
000000c000000c0000000ccc00cc0000c0000c000c000000000ccc000c0000c000ccc0000000c0c00c000000c00c0c00c0c00ccc00cc000c0c00000000000000
000000ccc000c00000000ccc00c0c00ccc000c0000cc0000000ccc00ccc000c000c0c0000000c0c000cc00cc000ccc00cc000c0c00c0c00cc000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000ccc000c00000000ccc00000000000000000000000c00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000c0000c0000000c0000cc000ccc000cc00c0c000c00000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000cc0000c0000000cc000c0c000c000c0c00ccc000c00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000c0000c0000000c0000c0c000c000c0c0000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000
700000008888000000000ccc00c0c00cc000cc000cc0000c00000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__sfx__
00010000170500c050050500105000000000000000000000000001500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00010000140500e05009050000000000000000000000000000000000000000000000000000000000000000001e000000000000000000000000000000000000000000000000000000000000000000000000000000
5e010000150500a050050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00010000120500c0500a050070500505002050000500c0000a0000900006000050000400002000010000100001000000000000000000000000000000000000000000000000000000000000000000000000000000
000100001a0500d040060200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
