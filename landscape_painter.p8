pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function draw_mountain()


end

function draw_cloud(x,y,cloudc)
	local nsegs=8
	local maxr =10
	local spreadx=maxr*3
	local spready=maxr*2
	local varf =0.6
	for i=1,nsegs do
		local ox=rnd(spreadx)-spreadx/2
		local oy=rnd(spready)-spready/2
		local r=flr(maxr/i)*(1+rnd(varf)-varf/2)
		r=max(2,r)
		circfill(x+ox,y+oy,r,cloudc)
	end
end

function draw_sky(y,skycs,cloudc,nclouds)
	rectfill(0,0,128,y,skycs[1])
	for i=1,nclouds do
		local x=flr(rnd(128))
		local y=flr(rnd(y))
		draw_cloud(x,y,cloudc)
	end
end

function draw_mountains(highc,lowc,height,topy)
	local npeaks=10
	local x=0
	local y=topy
	local peakdist=128/npeaks--average
	while x<128 do
		local nx=x+rnd(peakdist)
		local ny=y+rnd(height)-height/2
		--stupid way to fill area
		--under line
		for i=0,100 do
			line(x,y+i,nx,ny+i,highc)
		end
		x=nx
		y=ny
	end
end

function draw_grass(highc,lowc,height,topy)
	local npeaks=10
	local x=0
	local y=topy
	local peakdist=128/npeaks--average
	while x<128 do
		local nx=x+rnd(peakdist)
		local ny=y+rnd(height)-height/2
		--stupid way to fill area
		--under line
		for i=0,100 do
			line(x,y+i,nx,ny+i,highc)
			line(x+rnd(peakdist)-rnd(peakdist/2),y+i,x+rnd(4)-rnd(4/2),y+i+rnd(20)-rnd(20/2),rnd({lowc,highc}))
		end
		x=nx
		y=ny
	end
end

cls()
draw_sky(128,{12,13},7,5)

draw_mountains(13,1,10,50+20)
draw_mountains(5, 1,7 ,60+20)
draw_mountains(3, 1, 5,70+20)
draw_grass(11,3, 3,80+20)
__gfx__
00000000cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000cccccccccccc777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000cccccccccc77777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070077cccccc7777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777ccccc7777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777ccccc7777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777ccccc7777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777ccccccc77777c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccc77ccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccc7777cccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccc7777cccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
